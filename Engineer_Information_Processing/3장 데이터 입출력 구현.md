# 데이터 입출력 구현
## A. 논리 데이터 저장소 확인
---
### A-1. 데이터 모델
---
 - 현실 세계의 정보를 인간과 컴퓨터가 이해할 수 있도록 추상화하여 표현한 모델
 - 구성 요소 : 구조, 연산, 제약조건

A-1-1. 절차
 - 개념적 데이터 모델 : 주요 산출물로는 개체관계 다이어그램이 있음
 - 논리적 데이터 모델 : 업무의 모습을 모델링 표기법으로 형상화하여 사람이 이해하기 쉽게 표현한 데이터 모델 / 정규화를 수행
 - 물리적 데이터 모델 : 특정 DMBMS의 특성 및 성능을 고려하여 물리적인 스키마를 만드는 일련의 데이터 모델 / 성능 측면에서 반 정규화 수행

---
### A-2. 논리 데이터 모델 검증
---
 - 개념 모델로부터 업무 영역의 업무 데이터 및 규칙을 구체적으로 표현한 모델

A-2-1. 종류
 - 관계 데이터 모델 : 기본키와 이를 참조하는 외래키로 관계 표현
 - 계층 데이터 모델 : 논리적 구조가 트리 형태로 구성된 모델
 - 네트워크 데이터 모델 : 논리적 구조가 그래프 형태로 구성된 모델

A-2-1-1. 관계형 데이터 모델
 - 행과 열로 구성된 2차원 테이블로 구성한 모델
 - 릴레이션 : 행(Row)와 열(Column)로 구성된 테이블
 - 튜플 : 행에 해당되는 요소
 - 속성 : 열에 해당되는 요소
 - 카디널리티 : 튜플(행)의 수
 - 차수 : 속성(열)의 수
 - 스키마 : 데이터베이스의 구조, 제약조건 등의 정보를 담고 있는 기본적인 구조
 - 인스턴스 : 정의된 스키마에 따라 생성된 테이블에 실제 저장된 데이터의 집합

A-2-1-1-1. 관계 대수
```
![관계대수](https://mblogthumb-phinf.pstatic.net/data17/2006/5/24/228/operand_introz_01-jinsol1.gif?type=w210)
```

A-2-1-2. 논리 데이터 모델링 속성
 - 개체 : 관리할 대상이 되는 실체
 - 속성 : 관리할 정보의 구체적 항목
 - 관계 : 개체 간의 대응 관계

A-2-1-3. 개체-관계(E-R) 모델
 - 현실 세계에 존재하는 데이터와 그들 간의 관계를 사람이 이해할 수 있는 형태로 명학하게 표현한 모델

A-2-1-3-1. 다이어그램 기호
```
![E-R 다이어그램 기호](https://images.edrawsoft.com/kr/articles/edrawmax/block-diagram.png)
```

A-2-1-4. 정규화
 - 관계형 데이터 모델에서 데이터의 중복성을 제거하여 이상 현상을 방지, 데이터의 일관성과 정확성을 유지하기 위해 무손실 분해하는 과정

A-2-1-4-1. 이상현상
 - 데이터의 중복성으로 이해 릴레이션을 조작할 때 발생하는 비합리적인 현상
 - 삽입 이상 : 정보 저장 시 해당 정보의 불필요한 세부 정보를 입력해야 하는 경우
 - 삭제 이상 : 정보 삭제 시 원치 않는 다른 정보가 같이 삭제되는 경우
 - 갱신 이상 : 중복 데이터 중에서 특정 부분만 수정되어 중복된 값이 모순을 일으키는 경우

A-2-1-4-2. 정규화 단계
 - 1정규형 : 원자갑으로 구성
 - 2정규형 : 부분 함수 종속 제거 ( 완전 함수적 종속 관계 )
 - 3정규형 : 이행함수 종속 제거 ( A->B , B->C => A->C 의 경우를 분리 )
 - 보이스-코드 정규형 (BCNF) : 결정자 후보키가 아닌 함수 종속 제거
 - 4정규형 : 다치(다중 값) 종속 제거
 - 5정규형 : 조인 종속 제거

A-2-1-5. 반 정규화
 - 정규화된 엔터티, 속성, 관계에 대해 성능 향상과 개발 운영의 단순화를 위해 중복, 통합, 분리 등을 수행하는 데이터 모델링의 기법
 - 장점 : 반 정규화된 데이터 구조는 성능 향상과 관리의 효율성이 증가
 - 단점 : 데이터의 일관성 및 정합성 저하 / 유지를 위한 비용이 별도로 발생하여 성능에 나쁜 영향을 미칠 수 있음

A-2-1-5-1. 반 정규화 기법
 - 테이블 병합 : 슈퍼타입 / 서브타입 테이블 통합 통해 성능 향상
 - 테이블 분할 : 수직 또는 수평으로 분할하는 것으로 파티셔닝이라고 함
 - 중복 테이블 추가 : 대량의 데이터들에 대한 집계함수를 사용하여 실시간 통계정보를 계산하는 경우에 효과적인 수행을 위해 별도의 통계 테이블을 두거나 중복 테이블을 추가
 - 컬럼 중복화 : 조인 성능 향상을 위한 중복 허용
 - 중복 관계 추가 : 데이터를 처리하기 위한 여러 경로를 거쳐 조인이 가능하지만 이때 발생할 수 있는 성능 저하를 예방하기 위해 추가적 관계를 맺는 방법

---
## B. 물리 데이터 저장소 설계
---
### B-1. 물리 데이터 모델 설계
---
 - 논리모델을 적용하고자 하는 기술에 맞도록 상세화해가는 과정

B-1-1. 절차
 - 개체를 테이블로 변환 : 개체는 한글명을 사용 / 테이블은 소스 코드의 가독성을 위해 영문명을 사용
 - 속성을 컬럼으로 변환 : SQL 예약어 사용을 피해야 함
 - UID를 기본키로 변환 : 관계에 의한 외래키가 기본키에 포함될 수 있음
 - 관계를 외래키로 변환 : 외래키명은 기본키 이름을 그대로 사용하나 다른 의미를 가질 경우 변경가능
 - 컬럼 유형과 길이 정의 : 적절한 타입을 정의하고, 데이터의 최대 길이를 파악하여 길이를 설정
 - 반 정규화 수행

---
### B-2. 물리 데이터 저장소 구성
---
B-2-1. 테이블 제약조건 설계
 - 참조무결성 제약조건
 - 제한 (restricted) : 위배를 야기한 연산을 단순히 거절
    - Department 릴레이션에서 세번째 튜플인 (3, 개발, 9)를 삭제하면 참조 무결성 제약조건 위배해 삭제 연산 거절
 
 - 연쇄 (casecaed) : 참조되는 릴레이션에서 튜플 삭제하고 참조하는 릴레이셔네서 이 튜플을 참조하는 튜플들로 함께 삭제
 - 널 값 (nullify) : 참조되는 릴레이션에서 튜플 삭제하고, 참조하는 릴레이션에서 이 튜플을 참조하는  튜플들의 외래 키에 널 값 넣는다.

B-2-2. 인덱스 설계
 - 검색 연산의 최적화를 위해 데이터베이스 내 열에 대한 정보를 구성한 데이터구조
 - 적용 기준 : 조회 및 출력 조건으로 사용되는 컬럼인 경우 적용
 - 인덱스 컬럼 선정 : 붙포도가 좋은 컬럼은 단독적으로 생성 / 자주 조합되어 사용되는 컬럼은 결합 인덱스로 생성 / 결합 인덱스는 구성되는 컬럼 순서 선정에 유의
 - 설계 시 고려사항 : 지나치게 많은 인덱스는 오버헤드로 작용
 - 추가적인 저장 공간이 필요함을 고려

B-2-3. 뷰 설계
 - 뷰 속성
 - REPLACE : 뷰가 이미 존재하는 경우 재 생성
 - FORCE : 본 테이블의 존재 여부에 관계없이 뷰 생성
 - NOFORCE : 기본 테이블이 존재할 떄 뷰 생성
 - WITH CHECK OPTION : 서브 쿼리 내의 조건을 만족하는 행만 변경
 - WITH READ ONLY : 데이터 조작어 작업 불가
 - 고려사항 : 수행속도에 문제가 발생할 수 ᅟᅵᆻ음 / 최적의 엑세스 경로를 사용할수 있도록 해야함

B-2-4. 클러스터 설계
 - 적용 기준 : 인덱스의 단점을 해결한 기법 / 액세스 효율 향상을 위한 물리적 저장 방법 / 대량의 범위를 자주 액세스하는 경우 적용
 - 고려사항 : UNION, DISTINCT, ORDER BY, GROUP BY가 빈번한 컬럼이면 검토 대상 / 수정이 자주 발생하지 않는 컬럼은 검토 대상 / 처ᅟᅵᆯ 범위가 넓어 문제가 발생하는 경우는 단일 테이블 클러스터리을 고려

B-2-5. 파티션 설계
B-2-5-1. 종류
 - 레인지 파티셔닝 : 연속적인 숫자 또는 날짜를 기준으로 하는 파티셔닝 / 손쉬운 관리 기법을 제공 관리 시간 단축
 - 해시 파티셔닝 : 파티션 키의 해시 함수 값에 의한 파티셔닝 기법 / 균등한 데이터 분할 가능 질의 성능이 향상
 - 리스트 파티셔닝 : 특정 파티션에 저장 될 데이터에 대한 명시적 제어가 가능한 파티셔닝 기법 / 분포도가 비슷하고 데이터가 많은 SQL에서 컬럼의 조건이 많이 들어오는 경우 유용
 - 컴포지트 파티셔닝 : 위 파티셔닝 기법 2개 이상의 파니셔팅을 결합하는 파티셔닝 기법 / 큰 파니션에 대한 I/O 요청을 여러 파티셔으로 분산 가능

B-2-5-2. 장점
 - 성능 향상 / 가용성 향상 / 백업 가능 / 경합 감소

B-2-6. 디스크 구성 설계
 - 정확한 용량을 산정하여 디스크 사용의 효율을 높임
 - 업무량이 집중되어 있는 디스크를 분리하려 설계
 - 입출력 경합을 최소화하여 데이터의 접근 성능을 향상

---
## C. 데이터베이스 기초 활용하기
---
### C-1. 데이터베이스
---
 - 다수의 인원, 시스템 또는 프로그램이 사용할 목적으로 통합하여 관리되는 데이터의 집합
 - 정의
 - 통합된 데이터 : 자료의 중복을 배제한 데이터 모임
 - 저장된 데이터 : 저장 매체에 저장된 데이터
 - 운영 데이터 : 조직의 업무를 수행하는 데 필요한 데이터
 - 공용 데이터 : 여러 애플리케이션, 시스템들이 공동으로 사용하는 데이터

C-1-1. 특성
 - 실시간 접근성 : 쿼리에 대하여 실시간 응답이 가능해야 함
 - 지속적인 변화 : 새로운 데이터 삽입 삭제 갱신으로 항상 최신의 데이터를 유지
 - 동시 공용 : 다수의 사용자가 동시에 같은 내용의 데이터를 이용할 수 있어야 함
 - 내용 참조 : 데이터를 참조할 때 데이터 레코드의 주소나 위치에 의해서가 아니라, 사용자가 요구하는 데이터 내용으로 데이터를 찾음

C-1-2. 종류
C-1-2-1. 파일 시스템 개념
 - 파일에 이름을 부여하고 저장이나 검색을 위하여 논리적으로 그것들을 어디에 위치시켜야 하는지 등을 정의한 뒤 관리하는 데이터베이스 전 단계의 데이터 관리 방식
 - ISAM : Indexed Sequential Access Method / 자료 내용은 주 저장부, 자료의 색인은 자료가 기록된 위치와 함께 색인부에 기록되는 시스템
 - VSAM : Virtual Storage Access Method / 대형 운영체제에서 사용되는 파일 관리시스템

C-1-2-2. 관계형 데이터베이스 관리시스템 ( RDBMS )
 - 관계형 모델을 기반으로 하는 가장 보편화된 데이터베이스 관리시스템
 - 데이터를 저장하는 테이블의 일부를 다른 테이블과 상하 관계로 표시하여 상관관계를 정리
 - 종류 : Oracle, SQL Server, MySQL, Maria DB 등

C-1-2-3. 계층형 데이터베이스 관리시스템 ( HDBMS )
 - 데이터를 상하 종속적인 관계로 계층화하여 관리하는 데이터베이스
 - 접근 속도가 빠르지만, 종속적인 구조로 인하여 변화하는 데이터 구조에 유연하게 대응하기 쉽지 않음
 - 종류 : IMS, System2000 등

C-1-2-4. 네트워크 데이터베이스 관리시스템 ( NDBMS )
 - 데이터의 구조를 네트워크상의 망상 형태로 표현한 데이터 모델
 - 트리 구조나 계층형 데이터베이스보다는 유연하지만 설계가 복잡함
 - 종류 : IDS, IDMS 등

---
### C-2. DBMS
---
 - 데이터 관리의 복잡성을 해결하는 동시에 데이터 추가 변경 검색 삭제 및 백업 복구 보안 등의 기능을 지원하는 SW
C-2-1. 유형
 - key-value DBMS : 키 기반 Get / Put / Delete 제공, 메모리 기반에서 성능 우선 시스템 및 빅 데이터 처리 가능 DBMS / 유니크 한 키에 하나의 값을 가지고 있는 형태
 - 컬럼 기반 데이터 저장 DBMS : 키 안에 (Column, value) 조합으로 된 여러 개의 필드를 갖는 DBMS
 - 문서 저장 DBMS : 값의 데이터 타입이 문서라는 타입을 사용하는 DBMS
 - 그래프 DBMS : 시맨틱 웹과 온톨로지 분야에서 활용되는 그래프로 데이터를 표현하는 DBMS

C-2-2. DBMS 특징
 - 데이터 무결성 ; 부적절한 자료가 입력되어 동일한 내용에 대하여 서로 다른 데이터가 저장되는 것을 허용하지 않는 성질
 - 데이터 일관성 : 삽입, 삭제, 갠신, 생성 후에도 저장된 데이터가 변함없이 일정
 - 데이터 회복성 : 장애가 발생했을 때 특정 상태로 복구되어야 하는 성질
 - 데이터 보안성 : 불법적인 노출, 변경, 손실로부터 보호되어야 하는 성질
 - 데이터 효율성 : 응답 시간, 저장 공간 활용 등이 최적화되어 사용자, 소프트웨어, 시스템 등의 요구조건을 만족시켜야 하는 성질