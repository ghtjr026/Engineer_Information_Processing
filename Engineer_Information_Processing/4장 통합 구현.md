# 통합 구현
## A. 연계 데이터 구성
---
### A-1. 연계 요구사항 분석
---
 - 서로 다른 두 시스템ㆍ장치ㆍ소프트웨어ᅟᅳᆯ 이어주는 중계 역할을 하는 연계 시스템과 관련된 요구사항을 분석하는 과정

A-1-1. 연계 요구사항 분석 기법 및 참고 문서
 - 분석 기법
 - 인터뷰 : 사용자 면담을 통해 연계 요구사항 도출
 - 체크리스트 : 시스템 운영 환경, 성능 보안, 데이터 발생 주기 등의 기준에 대한 점검을 통한 분석기법
 - 설문지 : 서비스 활용 목적에 따라 연계 필요 데이터 식별 및 연계 주기 등을 설문지를 통해 분석
 - 델파이 기법 : 전문가의 경험적 지식을 통한 분석 기법
 - 브레인스토밍 : 소속된 인원들이 자발적으로 자연스럽게 제시된 아이디어 목록을 통해 분석하는 기법
 - 참고 문서
 - 코드 정의서 : 공통 코드 정의서
 - 테이블 정의서 : 데이터 모델링 정의서, 테이블/프로세스 연관도, 테이블별 컬럼 속성 정의서
 - 응용 프로그램 구성도 : 애플리케이션의 메뉴구성, 화면설계, 데이터 발생 시점, 주기, 발생패턴 등 확인
 - 시스템 구성도 : 하드웨어, 소프트웨어, 네트워크 등 연계 대상 시스템 구성도

A-1-2. 연계 요구사항 분석 절차
 - 시스템 현황 확인
 - 정의서 확인
 - 체크리스트 작성
 - 인터뷰 및 면담
 - 연계 요구사항 분석서 작성

A-1-3. 연계 시스템의 구성
 - 송신 시스템 : 연계할 데이터를 데이터베이스와 애플리케이션으로부터 연계 테이블 또는 파일 형태로 생성하여 송신하는 시스템
 - 수신 시스템 : 수신한 연계 테이블 또는 파일의 데이터를 수신 시스템에서 관리하는 데이터 형식에 맞게 변환하여 데이터베이스에 저장하거나 애플리케이션에서 활용할 수 있도록 제공하는 시스템
 - 중계 서버 : 연계 데이터의 보안 강화 및 다중 플랫폼 지원 등이 가능

---
### A-2. 연계 데이터 식별 및 표준화
---
 - 인터페이스 시스템 사이에서 교환되는 데이터는 규격화된 표준 형식을 정의하여 사용
 - 구성 : 인터페이스 데이터 공통부 / 인터페이스 데이터 개별부 / 인터페이스 데이터 종료부

A-2-1. 연계 데이터 식별 및 표준화 절차
 - 연계 범위 및 항목 정의 : 시스템 간의 연계하려는 정보를 구체화하여 범위와 항목을 정의
 - 연계 코드 변환 및 매핑 : 코드로 관리되는 정보는 검색 조건으로 활용
 - 연계 데이터 식별자와 변경 구분 추가 : 송신된 정보가 수신 시스템의 어떤 데이터에 해당하는지 추출하기 위해서는 수신 시스템의 연계 정보에 송신 시스템의 식별 키 항목을 추가
 - 연계 데이터 표현 방법 정의 : 연계 대상 범위 및 항목, 코드 매핑 방식 등을 정의한 후 연계 데이터를 테이블이나 파일 등의 형식으로 구성
 - 연계 정의서 및 명세서 작성 : 연계 정의서에는 송신 시스템과 수신 시스템 간의 인터페이스 현황 작성

---
## B. 연계 메커니즘 구성
---
### B-1. 연계 메커니즘 정의
---
 - 응용 소프트웨어와 연계 대상 모듈 간의 데이터 연계 시 요구사항을 고려한 연계방법과 주기를 설계하기 위한 메커니즘

---
### B-2. 연계 메커니즘의 기능
---
 - 데이터를 생성하여 전송하는 송신 시스템과 송신 데이터를 수신하여 DB에 반영하는 수신 시스템으로 구성
 - 송신 시스템은 운영 데이터베이스, 애플리케이션으로부터 연계 데이터를 연계 테이블 또는 파일로 생성하여 송신
 - 수신 시스템은 송신 시스템으로부터 전송된 데이터를 변환 처리 후 데이터베이스에 반영

---
### B-3. 연계 방식
---
B-3-1. 직접 연계
 - 장점 : 연계 및 통합 구현이 단순하며 용이 / 개발 소요 비용 및 기간이 짧음
 - 단점 : 시스템 간의 결합도가 높아 시스템 변경에 민감 / 암ㆍ복호화 처리 불가
 - 연계 기술
 - DB 링크 ; 데이터베이스에서 제공하는 DB링크 객체 이용
 - DB 연결 : 수신 시스템의 WAS에서 송신 시스템 DB로 연결하는 DB 커넥션 풀을 생성하고 연계 프로그램에서 해당 DB 커넥션 풀 명을 이용하여 연결
 - API/Open API : API명, 입출력 파라미터 정보가 필요함
 - JDBC : 수신 시스템의 프로그램에서 JDBC 드라이버를 이용하여 송신 시스템 DB와 연결
 - 하이퍼 링크 : 현재 페이지에서 다른 부분으로 가거나 전혀 다른 페이지로 이동하게 해주는 속성

B-3-2. 간접 연계
 - 장점 : 서로 상이한 네트워크, 프로토콜 연계 및 통합 가능 / 보안이나 업무 처리 로직을 자유롭게 반영 가능
 - 단점 : 연계 아키텍처 및 메커니즘이 복잡해 성능 저하 요소 존재 / 개발 및 적용을 위한 테스트 기간이 상대적 장기간 소요
 - 연계 기술
 - 연계 솔루션(EAI) : 기업에서 운영되는 서로 다른 플랫폼 및 애플리케이션들 간의 정보 전달, 연계, 통합을 가능하게 해주는 솔루션
 - Web Service / ESB : 웹 서비스가 설명된 WSDL과 SOAP 프로토콜을 이용한 시스템 간 연계
 - 소켓 : 소켓을 생성하여 포트를 할당하고, 클라이언트의 요청을 연결하여 통신

---
### B-4. 연계 메커니즘 수행 절차
---
 - 연계 데이터 추출 및 생성 : 연계 솔루션과는 관계없이 응용 프로그램에서 생성하거나 DB를 이용하는 등 응용 시스템별로 구현
 - 코드 매핑 및 데이터 변환
 - 연계 테이블 또는 파일 생성 : 데이터베이스의 테이블 또는 파일 형식으로 생성하고 테이블과 파일 형식 여부는 직ㆍ간접 연계에 따라 선택할 수 있음
 - 로그 기록
 - 연계 서버 또는 송수신 어댑터 ; 연계 서버는 송수신 시스템 둘 중 한 곳에만 설치하며 연계 테이블의 데이터를 전송 형식으로 변환, 대상 관리, 송수신 여부 관리 등 송수신과 관련된 모든 처리를 수행
 - 전송 단계
 - 운영 DB에 연계 데이터 반영

---
### B-5. 연계 장애 및 오류 처리 구현
---
B-5-1. 연계 장애 및 오류 유형
 - 연계 시스템 오류 : 연계 서버의 실행 여부 및 송수신, 전송 형식 변환 등의 오류
 - 연계 프로그램 오류 : 데이터 추출을 위한 DBD 접근 시 권한 불충분(송신) / 운영 DB에 반영하기 위한 DB 접근 권한 불충분 (수신)
 - 연계 데이터 오류 : 송신 시스템에서 추출된 연계 데이터가 유효하지 않은 값으로 인한 오류

---
## C. 내외부 연계 모듈 구현
---
### C-1. EAI 방식
---
 - 기업에서 운영되는 서로 다른 플랫폼 및 애플리케이션 간의 정보를 전달, 연계, 통합이 가능하도록 해주는 솔루션

C-1-1. 구성요소
 - EAI 플랫폼 : 이기종 시스템 간 애플리케이션 상호 운영 / 대규모 사용자 환경 지원을 위한 유연성과 확장성 보장
 - 어댑터 : 다양한 패키지 애플리케이션 및 기업에서 자체적으로 개발한 애플리케이션을 연결하는 EAI의 핵심 장치로 데이터 입출력 도구
 - 브로커 : 시스템 상호 간 데이터가 전송될 때, 데이터 포맷과 코드를 변환하는 솔루션
 - 메시지 큐 : 비동기 메시지를 사용하는 다른 응용 프로그램 사이에서 데이터를 송수신하는 기술
 - 비즈니스 워크플로우 : 미리 정의된 기업의 비즈니스 워크플로우에 따라 업무를 처리하는 기능

C-1-2. EAI 구축 유형
 - point-to-point : 가장 기초적인 애플리케이션 통합방법으로 1:1 단순 통합방법
 - hub & spoke : 단일한 접점 허브 시스템을 통하여 데이터를 전송하는 중앙 집중식 방식
 - message Bus : 애플리케이션 사이 미들웨어를 두어 연계하는 미들웨어 통합 방식
 - hybrid : 그룹 내는 허브 앤 스포크 방식을 사용하고, 그룹간에는 메시지 버스 방식을 사용하는 통합 방식

---
### C-2. ESB 방식
---
 - 기업에서 운영되는 서로 다른 플랫폼 및 애플리케이션들 간을 하나의 시스템으로 관린 운영할 수 있도록 서비스 중심의 통합을 지향하는 아키텍처
 - 미들웨어를 중심으로 각각 프로토콜이 호환할 수 있도록 애플리케이션의 통합을 느슨한 결합 방식으로 지원하는 방식

C-2-1. ESB 특징
 - 버스 방식으로 확장성, 유연한 아키텍처 구성이 가능
 - 서비스들을 컴포넌트화된 논리적 집합으로 묶는 핵심 미들웨어이며, 비즈니스 프로스세 환경에 맞게 설계 및 전개할 수 있는 아키텍처 패턴

C-2-2. EAI와 ESB 비교

![EAI / ESB 비교](../reference_image/캡처.png)


---
### C-3. EAI/ESB 방식 연계 모듈 구현
---
C-3-1. EAI/ESB 방식 연계 모듈 환경 구축 절차
 - 연계 DB 또는 계정 생성 : 송수신 시스템에서 각각 DB 구성 및 계정 생성 / 기존 DB 존재 시 목적에 따라 분리된 연계 사용자 계정 생성
 - 연계를 위한 테이블 생성 : 연계에 필요한 연계 테이블, 로그 테이블, 매핑 테이블, 오류 코드 테이블 등을 생성
 - 연계 응용 프로그램 구현 : 연계 응용 프로그램 구현 방식으로 트리거를 활용 / 트리거는 송신 시스템의 운영 DB 테이블과 수신 시스템의 연계 테이블을 대상으로 구현하고 테이블 단위로 구현

---
### C-4. 웹 서비스 방식 
---
 - 네트워크에 분산된 정보를 서비스 형태로 개방하여 표준화된 방식을 공유하는 기술로써 서비스 지향 아키텍처 개념을 실현하는 대표적인 기술
C-4-1. SOAP ( simple object access protocol ) 방식
 - HTTP, HTTPS, SMTP 등을 사용하여 XML 기반의 메시지를 네트워크 상태에서 교환하는 프로토콜
 - 네트워크 노드(클라이언트)에서 다른 쪽 노드(서버)로 메시지를 요청하고, 서버는 메시지를 즉시 응답하게 됨
 - 보통의 경우 원격 프로시저 호출(RPC)을 하는 메시지 패턴을 사용

C-4-2. WSDL( web service description language ) 방식
 - 웹 서비스명, 제공 위치, 메시지 포맷, 프로토콜 정보 등 웹 서비스에 대한 상세 정보가 기술된 XML 형식으로 구현되어 있는 언어
 - SOAP와 XML 스키마와 결합하여 인터넷상에 웁 서비스를 제공하기 위해 사용

C-4-3. UDDI( universal description, discovery and integration )
 - 웹 서비스에 대한 정보인 WSDL을 등록하고 검색하기 위한 저장소로 공개적으로 접근, 검색이 가능한 레지스트리이자 표준
 - 서비스 소비자에게 이미 알려진 온라인 저장소에 그들이 제공하는 서비스 목록들을 저장하게 되고, 서비스 소비자들은 그 저장소에 접근함으로써 원하는 서비스들의 목록을 찾을 수 있게 됨
 - 알려진 송수신 시스템의 통합 구현에서는 서비스의 공개 및 검색과정이 필요 없으므로, UDDI를 구축하지 않음

---
### C-5. 연계 테스트 및 검증
---
 - 송신 시스템과 수신 시스템을 연계하였을 경우 데이터의 정합성과 데이터 전송 여부에 대한 테스트
 - 사전에 테스트 케이스를 자성하고, 작성된 테스트 케이스를 활용하여 연계 테스트를 수행한 후 수행 결과를 검증하는 방식으로 진행

C-5-1. 연계 테스트 절차
 - 연계 테스트 케이스 작성
 - 연계 테스트 수행
 - 연계 테스트 수행 결과 검증